---
tags:
- Technology
- Difficulty/Base
---
----
## Расскажите НТТР глаголы, про идемпотентность и безопасность их. Где какие лучше применять? Можно ли удалить что-нибудь GET запросом?
----
> [!FAQ]- Ответ
> - В контексте определения требований к системной интеграции и спецификаций RESTful API понимание HTTP-глаголов имеет фундаментальное значение для обеспечения согласованности действий разработчиков фронтенда и бэкенда в отношении управления данными. Стандартные глаголы примерно соответствуют операциям CRUD: GET используется для получения данных, POST — для создания новых ресурсов, PUT и PATCH — для обновления существующих ресурсов, а DELETE — для удаления. Для различения правильного использования мы анализируем два ключевых свойства: безопасность и идемпотентность. Метод считается «безопасным», если он не изменяет состояние сервера — по сути, он предназначен только для чтения. «Идемпотентность» относится к свойству, при котором многократное выполнение операции имеет тот же эффект, что и однократное выполнение, что крайне важно для обработки ошибок и логики повторных попыток в распределенных системах.
> - Лучшие практики диктуют использование GET для любого получения данных, поскольку он одновременно безопасен и идемпотентен; клиенты могут многократно запрашивать одни и те же данные без риска изменения системы. Для создания данных мы используем POST, который не является ни безопасным, ни идемпотентным; отправка POST-запроса дважды обычно приводит к созданию двух отдельных записей, поэтому необходимо тщательно проектировать обратную связь пользовательского интерфейса, чтобы предотвратить дублирование отправки данных. При документировании требований к обновлениям я указываю PUT, когда клиент полностью заменяет ресурс, делая операцию идемпотентной, тогда как PATCH используется для частичных обновлений. Хотя DELETE не является безопасным, поскольку он изменяет состояние сервера, он идемпотентен; удаление ресурса, который уже был удален, приводит к тому же конечному состоянию — ресурс отсутствует — независимо от того, сколько раз была отправлена ​​команда.
> - Что касается вашего вопроса об удалении данных с помощью GET-запроса, хотя технически возможно запрограммировать сервер на запуск скрипта удаления при получении GET-запроса, это является нарушением стандартов HTTP и представляет значительный риск для системы. Поскольку GET определяется как «безопасный» метод, компоненты инфраструктуры, такие как веб-браузеры, кэширующие прокси-серверы и поисковые роботы, предполагают, что вызов URL-адреса с помощью GET не имеет побочных эффектов. Если бы мы разрешили GET-запросу удалять запись, простое действие, такое как индексация ссылки поисковым роботом Google или предварительная загрузка страницы браузером, могло бы непреднамеренно привести к удалению данных. Поэтому в своих функциональных спецификациях я строго требую, чтобы операции, изменяющие состояние, использовали небезопасные методы, такие как DELETE или POST, чтобы гарантировать предсказуемое и безопасное поведение приложения.