---
tags:
- Technology/BA
- Difficulty/Intermediate
---
----
## В каком случае вы примените table partitioning (range,list,hash) и как это влияет на планы выполнения запросов
----
> [!FAQ]- Ответ
> - Я бы рекомендовал применять секционирование таблиц прежде всего при работе с большими объемами данных, где производительность запросов и управляемость данных являются критически важными нефункциональными требованиями. В частности, я бы рекомендовал секционирование по диапазонам, когда данные имеют логическую последовательность, например, финансовые транзакции или журналы аудита; это позволяет заинтересованным сторонам эффективно проводить исторический анализ по определенным временным интервалам. Секционирование по спискам больше подходит для категориальных данных с низкой кардинальностью, таких как конкретные регионы продаж или валюты, позволяя региональным менеджерам получать свои конкретные подмножества данных без сканирования несвязанных записей. Секционирование по хешу — это стратегия, которую я бы использовал, когда необходимо равномерно распределить данные по устройствам хранения, чтобы предотвратить «горячие точки» в шаблонах доступа, особенно когда нет очевидного логического бизнес-ключа для сегментации, обеспечивая сбалансированную нагрузку при интенсивной параллельной обработке.
> - Влияние этих стратегий на планы выполнения запросов огромно, в основном благодаря механизму, известному как отсечение (или исключение) разделов. Когда пользователь отправляет запрос, который фильтрует данные на основе ключа секционирования, оптимизатор базы данных распознает это ограничение и строит план выполнения, который нацелен только на соответствующие разделы, полностью игнорируя остальную часть таблицы. Это значительно снижает накладные расходы на ввод-вывод (I/O) и ресурсы ЦП по сравнению с полным сканированием таблицы. С точки зрения бизнес-анализа, эта оптимизация гарантирует соблюдение строгих соглашений об уровне обслуживания (SLA) в отношении задержки формирования отчетов и снижает эксплуатационные расходы в облачных средах, где оплата часто привязана к объему сканируемых данных.