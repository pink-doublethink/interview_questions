---
tags:
- Technology/BA
- Difficulty/Intermediate
---
----
## В каком REST-сценарии вы возвращаете 201 Created
----
> [!FAQ]- Ответ
> - С точки зрения технических требований, код состояния HTTP 201 Created используется специально, когда запрос клиента — обычно отправляемый методом POST — приводит к успешному созданию нового ресурса на сервере. В отличие от общего ответа 200 OK, который просто указывает на то, что сервер получил и обработал запрос без ошибок, код 201 явно подтверждает, что произошло изменение состояния и в серверной системе теперь существует новая сущность данных. Как старший бизнес-аналитик, определяющий спецификации API, я гарантирую, что это различие четко задокументировано в соглашении об интерфейсе, чтобы использующие сервисы или фронтенд-приложения понимали, что логика создания была выполнена и сохранена, а не просто проверена.
> - Стандартные архитектурные ограничения RESTful диктуют, что ответ 201 Created также должен включать заголовок Location, содержащий конкретный URI вновь созданного ресурса. Например, если я определяю критерии приемки для модуля регистрации пользователей, POST-запрос к конечной точке /users с допустимой полезной нагрузкой JSON должен возвращать статус 201 вместе с заголовком, указывающим на /users/{unique_id}. Обычно я указываю в документации OpenAPI или Swagger, что тело ответа также должно возвращать представление созданного объекта. Это позволяет клиенту немедленно проверить данные или обновить пользовательский интерфейс без необходимости выполнения последующего GET-запроса, тем самым оптимизируя сетевой трафик и повышая производительность приложения.
> - Также крайне важно различать этот сценарий и асинхронную обработку. Если система принимает запрос на создание ресурса, но фактическая обработка занимает время — например, генерация сложного отчета или выделение виртуальной машины — я бы вместо этого определил требование для кода состояния 202 Accepted. Однако для синхронных операций CRUD, где запись становится доступной немедленно, строгое соблюдение ответа 201 Created является лучшей практикой. Такое внимание к деталям на этапе сбора и определения требований минимизирует двусмысленность для команды разработчиков и обеспечивает более плавные циклы интеграционного тестирования и приемочного тестирования пользователями (UAT).